<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<link rel="search" type="application/opensearchdescription+xml" title="MapillaryJS" href="/mapillary-js/opensearch.xml"><title data-react-helmet="true">Polygon Triangulation on the Sphere | MapillaryJS</title><meta data-react-helmet="true" property="og:url" content="https://mapillary.github.io/mapillary-js/docs/theory/polygon-triangulation"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Polygon Triangulation on the Sphere | MapillaryJS"><meta data-react-helmet="true" name="description" content="In MapillaryJS, we render manually created and segmented polygons and fill them with colors with the help of polygon triangulation."><meta data-react-helmet="true" property="og:description" content="In MapillaryJS, we render manually created and segmented polygons and fill them with colors with the help of polygon triangulation."><link data-react-helmet="true" rel="shortcut icon" href="/mapillary-js/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://mapillary.github.io/mapillary-js/docs/theory/polygon-triangulation"><link data-react-helmet="true" rel="alternate" href="https://mapillary.github.io/mapillary-js/docs/theory/polygon-triangulation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mapillary.github.io/mapillary-js/docs/theory/polygon-triangulation" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/mapillary-js/assets/css/styles.49b583f3.css">
<link rel="preload" href="/mapillary-js/assets/js/runtime~main.ad0f6c6a.js" as="script">
<link rel="preload" href="/mapillary-js/assets/js/main.34f9d945.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mapillary-js/"><img src="/mapillary-js/img/logo_green.svg" alt="MapillaryJS" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mapillary-js/img/logo_green.svg" alt="MapillaryJS" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MapillaryJS</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mapillary-js/docs">Docs</a><a class="navbar__item navbar__link" href="/mapillary-js/api">API</a><a class="navbar__item navbar__link" href="/mapillary-js/examples">Examples</a><a href="https://github.com/mapillary/mapillary-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/mapillary-js/"><img src="/mapillary-js/img/logo_green.svg" alt="MapillaryJS" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mapillary-js/img/logo_green.svg" alt="MapillaryJS" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MapillaryJS</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/mapillary-js/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/mapillary-js/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/mapillary-js/examples">Examples</a></li><li class="menu__list-item"><a href="https://github.com/mapillary/mapillary-js" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/intro/try">Try MapillaryJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/intro/glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Main Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/main/guide">Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/main/init">Initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/main/control">Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/main/event">Event Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/main/component">Components</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extension</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/extension/extend">Extend</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Provider</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/procedural-data-provider">Procedural</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/geometry-provider">Geometry</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Custom Render</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/webgl-custom-renderer">WebGL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/three-custom-renderer">Three.js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/animation">Animation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Camera Controls</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/extension/fly-controls">Fly Controls</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Theory</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/theory/theory">Theory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/theory/coordinates">Coordinates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mapillary-js/docs/theory/navigation-graph">Navigation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/mapillary-js/docs/theory/polygon-triangulation">Triangulation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Migration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/migration/v4">v4.x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/migration/v3">v3.x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mapillary-js/docs/migration/v2">v2.x</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Polygon Triangulation on the Sphere</h1></header><p>In MapillaryJS, we render manually created and segmented polygons and fill them with colors with the help of <a href="https://en.wikipedia.org/wiki/Polygon_triangulation" target="_blank" rel="noopener noreferrer">polygon triangulation</a>.</p><p>Note that at Mapillary, we often talk about triangulation related to positioning map features on the map. But polygon triangulation is a different thing. It&#x27;s a technique in computational geometry that helps create simplified 3D models (<a href="https://en.wikipedia.org/wiki/Polygon_mesh" target="_blank" rel="noopener noreferrer">meshes</a>) of objects and is often used in geometric modeling and computer graphics. And at Mapillary, as mentioned, we use it to help visualize semantic segmentation in the 3D representation of the world that you see through the Mapillary viewer.</p><p>While it&#x27;s fairly easy to create meshes of shapes on a plane in two dimensions, such as in regular images, it&#x27;s considerably more complex for spheresâ€”which we use to render panoramic images. And that is a challenge we at Mapillary need to tackle, as there is a considerable amount of 360Â° imagery on the Mapillary platform. So let&#x27;s take a look at how we&#x27;ve worked out a solution.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="a-practical-approach"></a>A Practical Approach<a class="hash-link" href="#a-practical-approach" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-with-the-vocabulary"></a>Start with the Vocabulary<a class="hash-link" href="#start-with-the-vocabulary" title="Direct link to heading">#</a></h3><p>Before explaining the challenging aspects of triangulation on the sphere, the topic for this post, let&#x27;s first define a vocabulary:</p><ul><li><strong>Real 3D world</strong>â€”the space that we live in and capture with cameras when mapping.</li><li><strong>Distorted 2D projection</strong>â€”the projection of the captured images. This is a two-dimensional space, the flat image. Projection types for images uploaded to Mapillary are generally <a href="https://en.wikipedia.org/wiki/3D_projection#Perspective_projection" target="_blank" rel="noopener noreferrer">perspective</a>, <a href="https://wiki.panotools.org/Fisheye_Projection" target="_blank" rel="noopener noreferrer">fisheye</a>, or <a href="https://en.wikipedia.org/wiki/Equirectangular_projection" target="_blank" rel="noopener noreferrer">equirectangular</a>. All projection types have some distortion. For perspective and fisheye images it&#x27;s radial. For equirectangular images the distortion comes from the representation itself. In this blog post we focus on the equirectangular projection.</li><li><strong>Undistorted 3D space</strong>â€”the rendered space (in MapillaryJS) where textures are undistorted according to some calibration parameters. This space is three-dimensional and its aim is to represent the real 3D world as accurately as possible. In this space, equirectangular (panoramic) images are rendered as spheres.</li></ul><p><img alt="Equirectangular panorama - distorted 2D projection" src="/mapillary-js/assets/images/polygon-equirectangular-panorama-231772d445f378acbcc89e5450ac1718.jpg"></p><p><em>Equirectangular panorama as a distorted 2D projection: straight lines of the real 3D world appear bent</em></p><p><img alt="Equirectangular panorama - undistorted" src="/mapillary-js/assets/images/polygon-undistorted-d0f0bf248aff8a7a11c7e125c90778b8.jpg"></p><p><em>Equirectangular panorama rendered as a sphere in undistorted 3D space: straight lines of the real 3D world appear straight</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-problem"></a>The Problem<a class="hash-link" href="#the-problem" title="Direct link to heading">#</a></h3><p>The image segment visualizations in MapillaryJS are filled with different colors based on the segmentation class. The fill originates from a colored 3D mesh that is placed in front of the image, or inside the image sphere in the case of a panorama, in the undistorted 3D space in the MapillaryJS viewer.</p><p><img alt="Polygon in front of image" src="/mapillary-js/assets/images/polygon-in-front-of-image-72a31c7669b0aa7b59fbbf7ae21f497d.png"></p><p><em>The segmentation fill (red sphere) is placed inside the image (gray sphere) around of the camera (blue sphere). When looking out from the camera position, the segmentation fill can be rendered with transparency in front of the image.</em></p><p>The image segment is defined by a <a href="https://en.wikipedia.org/wiki/Polygon" target="_blank" rel="noopener noreferrer">polygon</a> on the distorted 2D projection. This polygon needs to be <a href="https://en.wikipedia.org/wiki/Polygon_triangulation" target="_blank" rel="noopener noreferrer">triangulated</a>, i.e. divided into a set of triangles, to create the mesh mentioned above.</p><p>While it&#x27;s fairly straightforward to create this mesh through triangulation for regular images, it&#x27;s more complicated for equirectangular 360Â° panoramas because of their spherical nature. The relations between the polygon vertices (the corners of polygons) change when undistorting from the equirectangular projection.</p><p>These relational changes can lead to faulty triangles if the triangulation is performed on the original distorted 2D projection. Triangles can, for example, appear outside the actual polygon outline when unprojected from the distorted 2D projection to the undistorted 3D space. So the polygons can&#x27;t be triangulated directly on the distorted 2D projection. Also, the triangulation needs to be performed in 2D. Therefore, it can&#x27;t be done directly in 3D on the image sphere, so we need another method.</p><p>Besides solving the actual triangulation, we also need a method that is performant because we may need to triangulate hundreds of polygons with thousands of vertices for a single image. We need to perform the triangulation while keeping the MapillaryJS viewer as responsive as possible.</p><p>An example of what we want to achieve can be seen in the figures below. A simple <a href="https://en.wikipedia.org/wiki/Hexagon" target="_blank" rel="noopener noreferrer">hexgonal</a> polygon has been segmented on an equirectangular 360Â° panorama. We want to be able to render it filled with a color in the undistorted 3D space.</p><p><img alt="Polygon on image" src="/mapillary-js/assets/images/polygon-on-real-image-5ca85a91a114f4078c8743ba76b7c3f3.png"></p><p><em>A simple hexagonal polygon detected on the distorted 2D projection of an equirectangular panorama</em></p><p><img alt="Polygon in front of image" src="/mapillary-js/assets/images/polygon-on-undistorted-image-34e7ac05fe1657bd8daa176a0293f0c6.png"></p><p><em>The polygon rendered in the undistorted 3D space on the sphereâ€”the hexagon shape has been altered (only a small part of the image is rendered in this viewport)</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-solution"></a>The Solution<a class="hash-link" href="#the-solution" title="Direct link to heading">#</a></h3><p>The relative postions of the polygon vertices that we want to triangulate are those on the sphere. While we can&#x27;t triangulate directly on the spherical 3D coordinates, we can <a href="https://en.wikipedia.org/wiki/3D_projection#Perspective_projection" target="_blank" rel="noopener noreferrer">perspectively project</a> these 3D coordinates to a <a href="https://en.wikipedia.org/wiki/Plane_(geometry)" target="_blank" rel="noopener noreferrer">2D plane</a>. Then we can triangulate in 2D.</p><p>It is not possible to project all the points on the sphere to a single plane, some points will end up behind the plane.</p><p><img alt="Polygon behind camera" src="/mapillary-js/assets/images/polygon-behind-camera-3fe7e08419f28edbff14b127a069ec9b.png"></p><p><em>Perspectively projecting points to a plane: the red sphere can be projected because it is in front of the plane while the grey sphere cannot because it is behind the blue camera position with respect to the plane</em></p><p>Therefore, we have to divide the distorted 2D projecton into a number of subareas that are small enough so that all points will end up in front of a chosen plane. Let us divide the image into a grid that ensures that no subarea covers more than 180 degrees. If we choose a grid of 2 x 3 rectangular subareas, no subarea covers more that 120 degrees on the sphere. After dividing the image, we can divide the triangulation problem into six subproblems by clipping the polygon in each subarea. In our case, we get three clipped polygon parts related to the subareas containing the polygon.</p><p><img alt="Polygon on grid" src="data:image/png;base64,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"></p><p><em>The simple hexagonal polygon on top of a grid defining 6 subareas</em></p><p><img alt="Polygon clipped to grid items" src="data:image/png;base64,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"></p><p><em>The polygon clipped to each subarea</em></p><p>After clipping the polygon, we can unproject it to the sphere and then immediately project it to a plane with the <a href="https://en.wikipedia.org/wiki/Normal_(geometry)" target="_blank" rel="noopener noreferrer">normal</a> in the direction of the center of the grid rectangle to ensure that all points are in front of the plane.</p><p><img alt="Polygon clipped and unprojected on sphere" src="/mapillary-js/assets/images/polygon-clipped-on-sphere-65405a94256776bb39e1c00a160387f0.png"></p><p><em>Clipped polygon part unprojected to sphere</em></p><p><img alt="Polygon clipped and projected" src="data:image/png;base64,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"></p><p><em>Clipped polygon part projected to a plane from the center of the sphere</em></p><p>Once projected, we can now triangulate the clipped polygon and then fill the triangles with color.</p><p><img alt="Polygon triangulated" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAADNCAYAAADaHunsAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOkAAADpAB3OPcqgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA/zSURBVHic7d17sFx1YcDx795LAkp4BJRHaKkERCEqUBhAGvqwxU7royKJdAAV1EIFWisWGNtpAauFcWRK6xSkMvLq+ECk06ZFSBWlgtCCUESUdwXDSx7yhtzk/H794/yWLMv+9m5udvfsnv1+ZjLc3D337u+GyTe/c87vnNMAIpKkV9io5eOislFI0miZbn4QgZkKByJJo2YGiFNVj0KSRpWBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQZSkjIMpCRlGEhJyjCQkpRhICUpw0BKUoaBlKQMAylJGQayi7VwZIBvRTg2wqKqxyNp+CIwU/UgRk2EjwcIAWL6VQS4NsIJEV5X9fgkDdQMZRsNZLsCPh0gPg4zH4UVEU4McF1bMH9QwKci7BudiUt1YyDbRZgq4JwA8UV44PUQgI+3vL5DhOMDXBVgbUssHyng/AjLIiys8EeQ1B8GslWE+QV8NQXvx3vB2eWneXdm+4URlhdwboCH2nbFbyvg3AjLI2wx3J9EUh8YyKYImwa4IgXu+rthG2AV8CywpIevn46wtIDPpF3xNS3BXBPgfwr4fIQjIuw68B9I0oYykAARtgrw/RSzlREWAO8Avgc8A7xqDt9z8wjvLODMADe1BTMGeDzAtwo4K8IfRXhrhM37/bNJmrMZIDYoA7kGmF/teIYvwqIIVwJvAi5twBENWA1cCvwvcAzwy314n02BvYH9IuwP7Av8UodNVwH3RLh3Cu4B7qX878+ARxuwdkPHIqknM8C8iQ1khF0irAR2ivDFKfhoAwpga+BO4IPAJ4DfGtD7b0UZ5iUB3twod+XfAGyb/xJ+nn49GOER4JEpeBB4FHggvfZwA54YxJilCTK5gYywR4QrgO0inDEFf9FIxxuAjwF7Uu5iHwB8ZMhjWwAsbv4KsFOjnMVuQ7lYfVtgk1m+zeoCHt8IDm3ANYMdsVRLkxnICEsjrAC2aMBJDfhc2yY3U0bydylP0pw+7DHOJsKWwPa0RDPAdsD2EbZdBfvvWJ49//oUvK/KsUpjagaYBxN0kibCOwI8F2Bt7Dwz3IvyuF8D+BqwfKgD3HDTwMXANwu4NcCaCDtUPShpDE3WWewIhwWYCfBihGWZzf4B+Mv08Y3Arw5ndH3xUhyBTSIcFyAWcErF45LG0eQEMsKxaQH3MxEOymw2H3gY2DH9/gnGZ5H3y+IIEGGzAE+F8oTOvEpHJ42fyQhkhD9Paw9/HmGfLpsupzxxA/AayjPC4+AVcWwq4OwAscuMWVJnkxHIAHcEeDbCG2fZ9HLg0PTxfsD3BzuyvsjGESDCm9M/DlcNfWTSeKt/ICNske7A851ZNt0BeIx1V80cThmeUdY1jk0Brk6zyDcNbWTS+JsBYt1v07U30Ijwg1m2+wDwVeCF9PudKa9gGVXTwAWUhwIOBl7MbdiAcwACHD2UkUk1U+cZ5Ilp9nTYLJv+hDKmTRcCRwxuZBukp5ljU4T56W5DT6ZF6JJmV/8ZZFgXvRu7bPZrlNc4t84yd2E0Z5A9zxybGjAT4TzKM/KjGn1pZNV2BhngnjRz6vYPwXm03BQ3eRh47eBGNifrNXNsFWFRWgP6o1gugpfUXb1P0kRYmE7QfLvLZpsCj/PyG0QsAJ4a6ODW35zj2BTgsnS44cC+jkyqp9rvYu/D7CdolgFXU94Zp2nUdq+ngfMpZ7Q97VZ30ijvkE6A4/o3NKn+6jqDPDnNmA7tstl3gXe1fW4ZcMnABrZ+poGLKBewz2nm2BShEeD2AKtjeaMLSXn1nkGGdddR35TZZCfK+y9e0fb5UVni05w5bgO8hznOHJsa5d2R/5HyrPbxfRifNBFqOYMMcEuAF2IZmk7+Bvhsh8//E0O+B2QHfZs5torw6gCPBXjCJT9SV/U9SRNhKsDzAW7JbDIF/BTYvcNrVwG/OaCh9WIgcWwq4PR06MFjkVJerQO5U7rV19cym7wduD7z2n10fl7MMAw0jvDSkp/VAe7tMruWJl2tj0HunP57V+b1oyiP77XbmPKZNA8OYlCz6Osxx5xGefuzr1Aegz1kEO8h1UkdZ5BHpd3IYzq8vAXl2sctO7y2G3DbQAfX2cBnjq0i7BpgbYDbZllEL02qWs8gm7vID3R47XDKBddPdnhtZ+DuQQ0qYygzx1YNuDOWhx92Z/weKyENTS0DGcoHWUHnXeXc7jUMf5H40OPYNAWfAooIp3gsUuqsloGkfOY0lPd4bLWE8kYPuftDDnMNZGVxBGjAHRG+THlY4Q+H+d7SOKndMcgA30zHINuPM54JnNrlSy+nfNzroA31mGNOhNenm1jcF+HVVY1DGkH1XeYT4NoAoe0ExEaUu9w7Z74M4E7K3exBGok4NhVwZloSdVrVY5FGSK0DeUuAZ9s+/R6639lnGniOwT4BcKTiCC89luLhAM/HcumPpJoH8kfhlbcs+1e63zB2MYM9gz1ycWyK8KH0cK9vVD0WaUTUOpC3BfhFy6e2pTxh0+0420HAlQMaUjOOVzJicYSXLs3873Tctv3uRtIkqvU6yCkgtPz+/ZSzo+e7fM0uDGYGOQ18iTLSf8CQz1b3ogGhAX9M+XiGL8byzLo08eoayIKXr+37APm1j02DWOLTjON2jGgcmxpwc6M8w79tLO9oJIl67mLfENb9TPsCdzD7s1j+hTJi/TJN+XTEkdyt7iTtan837Wp/uOrxSBWq9THI5l/yeZTPhT6phy+7lXIheT+MXRybIiwO8HSApyPsWvV4pIrUOpCXB4hfLo/7Pcq6Sw9zGsAzwKv68PZjG8emCEems9q3R1hY9XikCtQ6kJcGiEvhWGBFD1+yCPhZH9567OPYVMDfp0heHWF+1eORhqy+gSzgogDxLXAN8N4evuTXKR/gtSFqE0eACNMBVqSrbL5U9XikIat1IL8QIO5Z3vdx4x6+5CjgvA14y1rFsSnCZgFuTcdzP1H1eKQhqvU6yOcBdoGVwOoett+QJT7Nu/KM7DrHOdq9Ae8/AFYBBPirWF7PLk2MWgfykPIBXL2Y630gWxeBH8x4x3ExcDTlFT/3Ux673f+wFEjgwgasrWpwUlVqt4sd4eh07OysHr/kBmDv9Xyb1t3qfpz9Hrb2ID4IXJI+97rmRgGuS3dGcsmPJkl9j0FG2CTAfQFWxzIEs3mCzs+oyRnHOC6mvKLoXLoEsVWEvdOZ7MuHNUhpRNQ3kAARPpxmkbNdYrg15VrJXo1LHFuDeB89BLFdARenEzS/N6hBSiOq9oGcDvDjAGtj9ytk9gOu6/HbjnIcuwVxve/zGGGbAC8GuMsnH2oC1TuQABGWpV3Ey7psdhjwzz18u1GLY2sQf8oGBrFdAaek2eOfbuj3ksbQRASyEeD69Bf9rZnN/pruz6mBcgZVdRwHGsRWEeYFWBXgmVg+R1yaNPUPJECEg5qXzGU2uZDyfpE5U8AFDD+O3YLYy4mnOYtweDp++/lBvo80wiYjkAABvp1mkQd1ePka8rPLYcZxEbCcMoj/x8uD2K+7DPUk3V08xPKRsNIkmpxARtg3QAhwQ3zlfSEfpvMdtAcdx5EJYqsIb0sz7v+oagzSCJicQAIEuCzNIpe1fHoB8HSHzQcRx9Yg3gs8xAgEsV2A/0x/TkurHotUockKZIQ3BFgT4I6Wa4r3AG5q27RfcRyLILaKsFeaaf9X1WORKjZZgQQo4Py2xwkcAny9ZZMNiePYBbFdgG+kP5/fr3osUsUmL5ARfiUtfr4/lrclOwk4Pb28vnHcnnVBvId1QfwY5XXdsz0DZ6RE2CNAEeDmDsdppUkzeYEEKOCsNEs6gTJuH2FdHFeSj2NrEG+jPLkztkFsF+Df0p/Lu6seizQCJjOQEV6THkr16Fbl2si30TmOtQ5iqwj7dDnLL02iyQwkQAGnBYhnwJOUxyBXUl6NMhFBbBdgZZd1otIkmtxARti8gMeegngkxC3LNYgPAV8BjgHeWOkAhyjC78xypZE0iSY3kABr4IQUhliUJ24ujXBwrNEzZWYTYaP0zJkQYf+qxyONkMkOJECE3Qo4NcCdzVgGeLKAiyK8q+7PYInwJ+kfiAuqHos0YgxkqwhLCjgjwEMtsXysgHMjLK3byYsICwM8lu7Ys6jq8UgjxkB2EmE6wtsLuCDAUy2xvKuA02JNjk8WcHY6MfPJqscijSADOZsIm6Sb7l6WFpg3Y3lThBMj7Fj1GOciwtK0KPzOSTrmKq0HA7k+ImwZ4UPpZg5rUyhDgO9FODbCa6seYy/SA81+kk7M/EbV45FGlIGcqwhbp0fLXpMiGVM0r4lwdITNqx5jTgF/m07MnFP1WKQRZiD7IcJOET4Z4Ictu+AvpGVD7x2lXdh0t56ZAKt8lILUlYHst3Qm/NMB7m6J5dMBLolwRIStKhzbggC3p13rd1Y1DmlMGMhBirBfAX8X4P6WWK4JcFWEP4t9ftDWbAq40OfMSD0zkMMSYUmEk9uOWcYA96R1lssjLBzg+38wvd8P42g8slYadQayChF2jHB8gCsDPN82u7w2rbU8MMLGfXq/3QI8kxaE79qP7ylNAANZtbTO8rcLOD3AjWltYjOYL6Zgfi5dI77dHL7/1gHuSgvCDx/EzyDVlIEcNWn50PsK+EI6K94azOYu+cURjotwQCwfOpb7XvMDfCcdd/zsMH8OqQYM5KiLsCBdB35ygBUBHm8LZgzwYIAVBZyabrCxOEIjRTYG+PcI01X/LNKYmQFigzKQa4D51Y5Hs0mhWwLsF2DPRvlUxrcAm7Vt+gvKkz43N+DABjw35KFK424GmGcgx1y6y9DOwJ4t0dwDmG7Avg14oNoRSmNpBpgH7mLXUkz/cyXNyQwQp6oehQajUe4VSNoABlKSMgykJGUYSEnKMJCSlGEgJSnDQEpShoGUpAwDKUkZBlKSMgykJGUYSEnKMJCSlGEgJSnDQEpShoGUpAwDKUkZBlKSMgykJGUYSEnKMJCSlGEgJSnDQEpShoGUpAwDKUkZBlKSMhpATB8XVQ5EkkbINLw8kJKkFv8PJyowfJdvgGsAAAAASUVORK5CYII="></p><p><em>Triangulated clipped polygon part</em></p><p>If we now assemble all the triangles from the different subareas, we have our completed triangulation. We can render the polygon with fill in undistorted 3D space.</p><p><img alt="Polygon combined on sphere" src="/mapillary-js/assets/images/polygon-combined-sphere-7e43623e50db187aca924d11e9b91b90.png"></p><p><em>Assembled polygon parts form the complete polygon, here rendered in undistorted 3D space on the sphere</em></p><p>Below is a simplified pseudo-algorithm for triangulating a polygon on the sphere:</p><ol><li>Divide the original image into x times y rectangular subareas where x &gt;= 3 and y &gt;= 2 to ensure that a subarea covers at most an angle of 120 degrees on the sphere.</li><li>Create an empty 3D coordinate triangles array.</li><li>For each subarea:<ol><li>Clip the polygon according to the subarea boundaries using the distorted 2D coordinates.</li><li>Unproject the distorted 2D coordinates of the polygon to undistorted 3D coordinates.</li><li>Project the the undistorted 3D coordinates to a plane in front of a camera with principal ray going through the center of the subarea.</li><li>Triangulate the projected 2D coordinates.</li><li>Add the undistorted 3D coordinates corresponding to the triangle indices to the triangles array.</li></ol></li><li>Use the assembled 3D coordinate triangle array.</li></ol><p>The end result can be seen below.</p><p><img alt="Rendered polygons" src="/mapillary-js/assets/images/polygon-rendered-3eda6431f6ad8f8265f74ce994719735.jpg"></p><p><em>Rendering segmentation polygons with fill in an equirectangular 360Â° panorama</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h3><p>With our practical and performant approach to triangulate polygons defined on the sphere, we can visualize segmentations detected on equirectangular panoramas in a better way by rendering polygons on the sphere with fill. We do it by dividing the spherical triangulation problem into smaller subproblems that are simpler to solve. Then we combine the results from each subproblem into the final solution.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/mapillary/mapillary-js/edit/main/doc/docs/theory/polygon-triangulation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mapillary-js/docs/theory/navigation-graph"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Navigation Graph</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mapillary-js/docs/migration/v4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">v4.x Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-practical-approach" class="table-of-contents__link">A Practical Approach</a><ul><li><a href="#start-with-the-vocabulary" class="table-of-contents__link">Start with the Vocabulary</a></li><li><a href="#the-problem" class="table-of-contents__link">The Problem</a></li><li><a href="#the-solution" class="table-of-contents__link">The Solution</a></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/docs/main/guide">Main Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/docs/extension/extend">Extension</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/api">API Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/examples">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/docs/theory/theory">Theory</a></li><li class="footer__item"><a class="footer__link-item" href="/mapillary-js/docs/migration/v4">Migration</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mapillary/mapillary-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/mapillary-js/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/mapillary-js/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mapillary-js/assets/js/runtime~main.ad0f6c6a.js"></script>
<script src="/mapillary-js/assets/js/main.34f9d945.js"></script>
</body>
</html>